<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>
<body>
    <div>
        <input type="text" id="id" placeholder="编号">
        <input type="text" id="name" placeholder="姓名">
        <input type="text" id="gender" placeholder="性别">
        <input type="button" value="添加" id="btn_add">
    </div>

    <table border="1">
        <tr>
            <td>编号</td>
            <td>姓名</td>
            <td>性别</td>
            <td>操作</td>
        </tr>
        <tr>
            <td>1</td>
            <td>令狐冲</td>
            <td>男</td>
            <td><a href="javascript:void(0);" onclick="delTr(this);">删除</a></td>
        </tr>
        <tr>
            <td>2</td>
            <td>任我行</td>
            <td>男</td>
            <td><a href="javascript:void(0);" onclick="delTr(this);">删除</a></td>
        </tr>
        <tr>
            <td>3</td>
            <td>岳不群</td>
            <td>?</td>
            <td><a href="javascript:void(0);" onclick="delTr(this);">删除</a></td>
        </tr>
    </table>

    <!-- script一定要放在最后面? -->
    <script>
        /*  分析
            1.添加
                1.1 绑定单击事件
                1.2 获取表单内容
                1.3 创建td 设置内容,创建tr,添加到td里面,获取table,添加进去(太麻烦了,直接使用EA表达式)
            2. 删除
                2.1 确定点击的是哪一个超链接
                2.2 删除 removeChild()
        */

        // 1.添加
       document.getElementById("btn_add").onclick = function(){
        let id = document.querySelector("#id").value;
        let name = document.querySelector("#name").value;
        let gender = document.querySelector("#gender").value;
        let tr = document.createElement("tr");

        // EA表达式
        tr.innerHTML = 
            `
            <td>${id}</td>
            <td>${name}</td>
            <td>${gender}</td>
            <td><a href="javascript:void(0);" onclick="delTr(this);">删除</a></td>
            `;
        
        // document.querySelector("table").appendChild(tr);
        // 看起来好像是可以实现,但是这样写是有问题的
        // 浏览器会在table和tr之间生成一个<tbody>标签包裹所有tr,因此应该是
        document.querySelector("tbody").appendChild(tr);
       }

        // 2.删除
        // this可以指向当前元素
        function delTr(a){
            // 通过这种方法拿到a的父元素
            // console.log(a,a.parentNode.parentNode);
            let tr = a.parentNode.parentNode;
            tr.parentNode.removeChild(tr);
        }


    </script>
</body>
</html>